!function(e){function t(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=f.p+""+e+"."+w+".hot-update.js",t.appendChild(n)}function n(e){if("undefined"==typeof XMLHttpRequest)return e(Error("No browser support"));try{var t=new XMLHttpRequest,n=f.p+""+w+".hot-update.json";t.open("GET",n,!0),t.timeout=1e4,t.send(null)}catch(i){return e(i)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)e(Error("Manifest request to "+n+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)e(Error("Manifest request to "+n+" failed."));else{try{var i=JSON.parse(t.responseText)}catch(r){return void e(r)}e(null,i)}}}function i(e){function t(e,t){"ready"===O&&o("prepare"),$++,f.e(e,function(){function n(){$--,"prepare"===O&&(L[e]||u(e),0===$&&0===C&&s())}try{t.call(null,i)}finally{n()}})}var n=x[e];if(!n)return f;var i=function(t){return n.hot.active?x[t]?(x[t].parents.indexOf(e)<0&&x[t].parents.push(e),n.children.indexOf(t)<0&&n.children.push(t)):_=[e]:_=[],f(t)};for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&(p?Object.defineProperty(i,r,function(e){return{configurable:!0,enumerable:!0,get:function(){return f[e]},set:function(t){f[e]=t}}}(r)):i[r]=f[r]);return p?Object.defineProperty(i,"e",{enumerable:!0,value:t}):i.e=t,i}function r(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)t._acceptedDependencies[e[i]]=n;else t._acceptedDependencies[e]=n},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("number"==typeof e)t._declinedDependencies[e]=!0;else for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:l,apply:d,status:function(e){return e?void I.push(e):O},addStatusHandler:function(e){I.push(e)},removeStatusHandler:function(e){var t=I.indexOf(e);t>=0&&I.splice(t,1)},data:k[e]};return t}function o(e){O=e;for(var t=0;t<I.length;t++)I[t].call(null,e)}function a(e){var t=+e+""===e;return t?+e:e}function l(e,t){if("idle"!==O)throw Error("check() is only allowed in idle status");"function"==typeof e?(b=!1,t=e):(b=e,t=t||function(e){if(e)throw e}),o("check"),n(function(e,n){if(e)return t(e);if(!n)return o("idle"),void t(null,null);j={},A={},L={};for(var i=0;i<n.c.length;i++)A[n.c[i]]=!0;g=n.h,o("prepare"),m=t,y={};var r=0;u(r),"prepare"===O&&0===$&&0===C&&s()})}function c(e,t){if(A[e]&&j[e]){j[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0===--C&&0===$&&s()}}function u(e){A[e]?(j[e]=!0,C++,t(e)):L[e]=!0}function s(){o("ready");var e=m;if(m=null,e)if(b)d(b,e);else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(a(n));e(null,t)}}function d(t,n){function i(e){for(var t=[e],n={},i=t.slice();i.length>0;){var o=i.pop(),e=x[o];if(e&&!e.hot._selfAccepted){if(e.hot._selfDeclined)return Error("Aborted because of self decline: "+o);if(0===o)return;for(var a=0;a<e.parents.length;a++){var l=e.parents[a],c=x[l];if(c.hot._declinedDependencies[o])return Error("Aborted because of declined dependency: "+o+" in "+l);t.indexOf(l)>=0||(c.hot._acceptedDependencies[o]?(n[l]||(n[l]=[]),r(n[l],[o])):(delete n[l],t.push(l),i.push(l)))}}}return[t,n]}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.indexOf(i)<0&&e.push(i)}}if("ready"!==O)throw Error("apply() is only allowed in ready status");"function"==typeof t?(n=t,t={}):t&&"object"==typeof t?n=n||function(e){if(e)throw e}:(t={},n=n||function(e){if(e)throw e});var l={},c=[],u={};for(var s in y)if(Object.prototype.hasOwnProperty.call(y,s)){var d=a(s),v=i(d);if(!v){if(t.ignoreUnaccepted)continue;return o("abort"),n(Error("Aborted because "+d+" is not accepted"))}if(v instanceof Error)return o("abort"),n(v);u[d]=y[d],r(c,v[0]);for(var d in v[1])Object.prototype.hasOwnProperty.call(v[1],d)&&(l[d]||(l[d]=[]),r(l[d],v[1][d]))}for(var p=[],h=0;h<c.length;h++){var d=c[h];x[d]&&x[d].hot._selfAccepted&&p.push({module:d,errorHandler:x[d].hot._selfAccepted})}o("dispose");for(var m=c.slice();m.length>0;){var d=m.pop(),b=x[d];if(b){for(var I={},C=b.hot._disposeHandlers,$=0;$<C.length;$++){var L=C[$];L(I)}k[d]=I,b.hot.active=!1,delete x[d];for(var $=0;$<b.children.length;$++){var j=x[b.children[$]];if(j){var A=j.parents.indexOf(d);A>=0&&j.parents.splice(A,1)}}}}for(var d in l)if(Object.prototype.hasOwnProperty.call(l,d))for(var b=x[d],E=l[d],$=0;$<E.length;$++){var S=E[$],A=b.children.indexOf(S);A>=0&&b.children.splice(A,1)}o("apply"),w=g;for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(e[d]=u[d]);var q=null;for(var d in l)if(Object.prototype.hasOwnProperty.call(l,d)){for(var b=x[d],E=l[d],H=[],h=0;h<E.length;h++){var S=E[h],L=b.hot._acceptedDependencies[S];H.indexOf(L)>=0||H.push(L)}for(var h=0;h<H.length;h++){var L=H[h];try{L(l)}catch(P){q||(q=P)}}}for(var h=0;h<p.length;h++){var T=p[h],d=T.module;_=[d];try{f(d)}catch(P){if("function"==typeof T.errorHandler)try{T.errorHandler(P)}catch(P){q||(q=P)}else q||(q=P)}}return q?(o("fail"),n(q)):(o("idle"),void n(null,c))}function f(t){if(x[t])return x[t].exports;var n=x[t]={exports:{},id:t,loaded:!1,hot:r(t),parents:_,children:[]};return e[t].call(n.exports,n,n.exports,i(t)),n.loaded=!0,n.exports}var v=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){c(e,t),v&&v(e,t)};var p=!1;try{Object.defineProperty({},"x",{get:function(){}}),p=!0}catch(h){}var m,y,g,b=!0,w="dc3595a23ee374390fab",k={},_=[],I=[],O="idle",C=0,$=0,L={},j={},A={},x={};return f.m=e,f.c=x,f.p="/",f.h=function(){return w},i(0)(0)}([function(e,t,n){e.exports=n(6)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.Item=void 0,t.ItemList=void 0,{Record:{}});t.EmptyItemQuery=void 0,t.emptyItemQuery=n.Record,t.ItemQuery=void 0,t.ItemUpdate=void 0},function(e,t){"use strict";function n(e,t){return(t||document).querySelector(e)}function i(e,t,n,i){e.addEventListener(t,n,!!i)}function r(e,t,n,r,o){var a=function(n){for(var i=n.target,o=e.querySelectorAll(t),a=o.length;a--;)if(o[a]===i){r.call(i,n);break}};i(e,n,a,!!o)}Object.defineProperty(t,"__esModule",{value:!0}),t.qs=n,t.$on=i,t.$delegate=r;t.escapeForHTML=function(e){return e.replace(/[&<]/g,function(e){return"&"===e?"&amp;":"&lt;"})}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),a=function(){function e(t,n){i(this,e);var r=window.localStorage,o=void 0;this.getLocalStorage=function(){return o||JSON.parse(r.getItem(t)||"[]")},this.setLocalStorage=function(e){r.setItem(t,JSON.stringify(o=e))},n&&n()}return r(e,[{key:"find",value:function(e,t){var n=this.getLocalStorage(),i=void 0;t(n.filter(function(t){for(i in e)if(e[i]!==t[i])return!1;return!0}))}},{key:"update",value:function(e,t){for(var n=e.id,i=this.getLocalStorage(),r=i.length,o=void 0;r--;)if(i[r].id===n){for(o in e)i[r][o]=e[o];break}this.setLocalStorage(i),t&&t()}},{key:"insert",value:function(e,t){var n=this.getLocalStorage();n.push(e),this.setLocalStorage(n),t&&t()}},{key:"remove",value:function(e,t){var n=void 0,i=this.getLocalStorage().filter(function(t){for(n in e)if(e[n]!==t[n])return!0;return!1});this.setLocalStorage(i),t&&t(i)}},{key:"count",value:function(e){this.find(o.emptyItemQuery,function(t){for(var n=t.length,i=n,r=0;i--;)r+=t[i].completed;e(n,n-r,r)})}}]),e}();t["default"]=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(n(1),n(2)),a=function(){function e(){i(this,e)}return r(e,[{key:"itemList",value:function(e){return e.reduce(function(e,t){return e+('\n<li data-id="'+t.id+'"'+(t.completed?' class="completed"':"")+'>\n\t<input class="toggle" type="checkbox" '+(t.completed?"checked":"")+">\n\t<label>"+(0,o.escapeForHTML)(t.title)+'</label>\n\t<button class="destroy"></button>\n</li>')},"")}},{key:"itemCounter",value:function(e){return e+" item"+(1!==e?"s":"")+" left"}}]),e}();t["default"]=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(n(1),n(2)),l=n(4),c=(i(l),function(e){return parseInt(e.parentNode.dataset.id,10)}),u=13,s=27,d=function(){function e(t){var n=this;r(this,e),this.template=t,this.$todoList=(0,a.qs)(".todo-list"),this.$todoItemCounter=(0,a.qs)(".todo-count"),this.$clearCompleted=(0,a.qs)(".clear-completed"),this.$main=(0,a.qs)(".main"),this.$toggleAll=(0,a.qs)(".toggle-all"),this.$newTodo=(0,a.qs)(".new-todo"),(0,a.$delegate)(this.$todoList,"li label","dblclick",function(e){var t=e.target;n.editItem(t)})}return o(e,[{key:"editItem",value:function(e){var t=e.parentElement;t.classList.add("editing");var n=document.createElement("input");n.className="edit",n.value=e.innerText,t.appendChild(n),n.focus()}},{key:"showItems",value:function(e){this.$todoList.innerHTML=this.template.itemList(e)}},{key:"removeItem",value:function(e){var t=(0,a.qs)('[data-id="'+e+'"]');t&&this.$todoList.removeChild(t)}},{key:"setItemsLeft",value:function(e){this.$todoItemCounter.innerHTML=this.template.itemCounter(e)}},{key:"setClearCompletedButtonVisibility",value:function(e){this.$clearCompleted.style.display=e?"block":"none"}},{key:"setMainVisibility",value:function(e){this.$main.style.display=e?"block":"none"}},{key:"setCompleteAllCheckbox",value:function(e){this.$toggleAll.checked=!!e}},{key:"updateFilterButtons",value:function(e){(0,a.qs)(".filters>.selected").className="",(0,a.qs)('.filters>[href="#/'+e+'"]').className="selected"}},{key:"clearNewTodo",value:function(){this.$newTodo.value=""}},{key:"setItemComplete",value:function(e,t){var n=(0,a.qs)('[data-id="'+e+'"]');n&&(n.className=t?"completed":"",(0,a.qs)("input",n).checked=t)}},{key:"editItemDone",value:function(e,t){var n=(0,a.qs)('[data-id="'+e+'"]'),i=(0,a.qs)("input.edit",n);n.removeChild(i),n.classList.remove("editing"),(0,a.qs)("label",n).textContent=t}},{key:"bindAddItem",value:function(e){(0,a.$on)(this.$newTodo,"change",function(t){var n=t.target,i=n.value.trim();i&&e(i)})}},{key:"bindRemoveCompleted",value:function(e){(0,a.$on)(this.$clearCompleted,"click",e)}},{key:"bindToggleAll",value:function(e){(0,a.$on)(this.$toggleAll,"click",function(t){var n=t.target;e(n.checked)})}},{key:"bindRemoveItem",value:function(e){(0,a.$delegate)(this.$todoList,".destroy","click",function(t){var n=t.target;e(c(n))})}},{key:"bindToggleItem",value:function(e){(0,a.$delegate)(this.$todoList,".toggle","click",function(t){var n=t.target;e(c(n),n.checked)})}},{key:"bindEditItemSave",value:function(e){(0,a.$delegate)(this.$todoList,"li .edit","blur",function(t){var n=t.target;n.dataset.iscanceled||e(c(n),n.value.trim())},!0),(0,a.$delegate)(this.$todoList,"li .edit","keypress",function(e){var t=e.target,n=e.keyCode;n===u&&t.blur()})}},{key:"bindEditItemCancel",value:function(e){(0,a.$delegate)(this.$todoList,"li .edit","keyup",function(t){var n=t.target,i=t.keyCode;i===s&&(n.dataset.iscanceled=!0,n.blur(),e(c(n)))})}}]),e}();t["default"]=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=n(7),o=i(r),a=n(2),l=n(4),c=i(l),u=n(3),s=i(u),d=n(5),f=i(d),v=new s["default"]("todos-vanilla-es6"),p=new c["default"],h=new f["default"](p),m=new o["default"](v,h),y=function(){return m.setView(document.location.hash)};(0,a.$on)(window,"load",y),(0,a.$on)(window,"hashchange",y)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),l=n(3),c=(i(l),n(5)),u=(i(c),function(){function e(t,n){var i=this;r(this,e),this.store=t,this.view=n,n.bindAddItem(this.addItem.bind(this)),n.bindEditItemSave(this.editItemSave.bind(this)),n.bindEditItemCancel(this.editItemCancel.bind(this)),n.bindRemoveItem(this.removeItem.bind(this)),n.bindToggleItem(function(e,t){i.toggleCompleted(e,t),i._filter()}),n.bindRemoveCompleted(this.removeCompletedItems.bind(this)),n.bindToggleAll(this.toggleAll.bind(this)),this._activeRoute="",this._lastActiveRoute=null}return o(e,[{key:"setView",value:function(e){var t=e.replace(/^#\//,"");this._activeRoute=t,this._filter(),this.view.updateFilterButtons(t)}},{key:"addItem",value:function(e){var t=this;this.store.insert({id:Date.now(),title:e,completed:!1},function(){t.view.clearNewTodo(),t._filter(!0)})}},{key:"editItemSave",value:function(e,t){var n=this;t.length?this.store.update({id:e,title:t},function(){n.view.editItemDone(e,t)}):this.removeItem(e)}},{key:"editItemCancel",value:function(e){var t=this;this.store.find({id:e},function(n){var i=n[0].title;t.view.editItemDone(e,i)})}},{key:"removeItem",value:function(e){var t=this;this.store.remove({id:e},function(){t._filter(),t.view.removeItem(e)})}},{key:"removeCompletedItems",value:function(){this.store.remove({completed:!0},this._filter.bind(this))}},{key:"toggleCompleted",value:function(e,t){var n=this;this.store.update({id:e,completed:t},function(){n.view.setItemComplete(e,t)})}},{key:"toggleAll",value:function(e){var t=this;this.store.find({completed:!e},function(n){var i=!0,r=!1,o=void 0;try{for(var a,l=n[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value.id;t.toggleCompleted(c,e)}}catch(u){r=!0,o=u}finally{try{!i&&l["return"]&&l["return"]()}finally{if(r)throw o}}}),this._filter()}},{key:"_filter",value:function(e){var t=this,n=this._activeRoute;(e||""!==this._lastActiveRoute||this._lastActiveRoute!==n)&&this.store.find({"":a.emptyItemQuery,active:{completed:!1},completed:{completed:!0}}[n],this.view.showItems.bind(this.view)),this.store.count(function(e,n,i){t.view.setItemsLeft(n),t.view.setClearCompletedButtonVisibility(i),t.view.setCompleteAllCheckbox(i===e),t.view.setMainVisibility(e)}),this._lastActiveRoute=n}}]),e}());t["default"]=u}]);